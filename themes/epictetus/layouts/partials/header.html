<header
  x-data="{openMenu: false, openSearch: false}"
  class="relative w-full items-start justify-center z-40 select-none pt-5">
  <div class="max-w-screen-xl mx-auto col-span-2 order-last lg:order-none mt-3 lg:mt-0">
    <div
      class="flex items-center justify-between w-full gap-3 pt-0 lg:pt-10 h-12 lg:h-20 mb-5 gap-x-5 lg:gap-x-12 px-5">
      <nav class="flex items-center w-full justify-between lg:justify-start lg:gap-x-20">
        <button @click="openMenu = !openMenu; openSearch = false" class="relative z-10 lg:hidden">
          <img src="/menu.svg" alt="menu" />
        </button>
        <a href="/" class="relative z-10 flex items-center gap-x-3">
          <img src="/logo.svg" alt="epictetus logo" />
          Epictetus
        </a>
        <button @click="openSearch = !openSearch; openMenu = false" class="relative z-10 lg:hidden">
          <svg class="w-5 h-5" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g opacity="0.1" clip-path="url(#clip0_5_30)">
              <path
                d="M6.41667 11.0833C8.994 11.0833 11.0833 8.994 11.0833 6.41667C11.0833 3.83934 8.994 1.75 6.41667 1.75C3.83934 1.75 1.75 3.83934 1.75 6.41667C1.75 8.994 3.83934 11.0833 6.41667 11.0833Z"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round" />
              <path
                d="M12.25 12.25L9.71251 9.71246"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round" />
            </g>
            <defs>
              <clipPath id="clip0_5_30">
                <rect width="14" height="14" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </button>
        <div
          @click.outside="openMenu = false"
          x-show="openMenu"
          x-cloak
          x-transition:enter="transition ease-out duration-300"
          x-transition:enter-start="-translate-y-[150%]"
          x-transition:enter-end="translte-y-0"
          x-transition:leave="transition ease-in duration-300"
          x-transition:leave-start="translate-y-0"
          x-transition:leave-end="-translate-y-[150%]"
          class="absolute lg:static top-0 left-0 flex flex-col lg:flex-row items-center justify-center gap-x-10 pt-28 pb-10 lg:p-0 bg-primary lg:bg-transparent w-full lg:w-auto lg:translate-y-0 lg:!flex">
          {{ range .Site.Params.Categories }}
          <a
            href='/{{ if eq . "tags" }}{{ . }}{{ else }}category/{{.slug}}{{ end }}'
            class="swiper-slide flex items-center justify-center gap-3 w-full lg:w-auto hover:bg-white/5 dark:hover:bg-primary-dark-gray py-5 lg:py-3 px-2 lg:px-5 lg:rounded-lg transition">
            {{ .name }}
          </a>
          {{ end }}
        </div>
      </nav>

      {{- partial "search-form.html" . -}}
    </div>
  </div>
</header>
